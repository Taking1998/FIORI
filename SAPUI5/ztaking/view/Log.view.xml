<mvc:View
    controllerName="ztaking.controller.Log"
    xmlns="sap.m"
    xmlns:semantic="sap.f.semantic"
    xmlns:table="sap.ui.table"
    xmlns:layout="sap.ui.layout"
    xmlns:mvc="sap.ui.core.mvc">
    <Page 
        id="log-page"
        title="日志"
        titleAlignment="Center"
        showNavButton="true"
        navButtonPress="onNavBack">
        <layout:BlockLayout>
            <layout:BlockLayoutRow>
                <layout:BlockLayoutCell>
                    <layout:VerticalLayout>
                        <Label text="用户名"/>
                        <Input class="sapUiSizeCompact"/>
                    </layout:VerticalLayout>
                </layout:BlockLayoutCell>
                <layout:BlockLayoutCell>
                    <layout:VerticalLayout>
                        <Label text="控制器名称"/>
                        <Input class="sapUiSizeCompact"/>
                    </layout:VerticalLayout>
                </layout:BlockLayoutCell>
                <layout:BlockLayoutCell>
                    <layout:VerticalLayout>
                        <Label text="字段名"/>
                        <Input class="sapUiSizeCompact"/>
                    </layout:VerticalLayout>
                </layout:BlockLayoutCell>
                <layout:BlockLayoutCell>
                    <layout:VerticalLayout>
                        <Label text="备注"/>
                        <Input class="sapUiSizeCompact"/>
                    </layout:VerticalLayout>
                </layout:BlockLayoutCell>
            </layout:BlockLayoutRow>
        </layout:BlockLayout>
        <table:Table
            id="logTable"
            rows="{log>/logData}"
            selectionBehavior="RowOnly"
            selectionMode="Single"
            alternateRowColors="true"
            rowSelectionChange="onRowSelectionChange"
            width="80rem">
            <table:extension>
                <Title text="日志"/>
            </table:extension>
            <table:rowSettingsTemplate>
                <table:RowSettings 
                    highlight="{
                        path:'log>MSGTY',
                        formatter:'.formatter.msgtyFormat'
                    }"
                />
            </table:rowSettingsTemplate>
            <table:columns>
                <table:Column hAlign="Center" width="6rem">
                    <Label text="用户名"/>
                    <table:template>
                        <Text text="{log>USERNAME}"/>
                    </table:template>
                </table:Column>
                <table:Column hAlign="Center" width="18rem">
                    <Label text="控制器名称"/>
                    <table:template>
                        <Text text="{log>CONTROLLERNAME}"/>
                    </table:template>
                </table:Column>
                <table:Column hAlign="Center" width="6rem">
                    <Label text="字段名"/>
                    <table:template>
                        <Text text="{log>FIELDNAME}"/>
                    </table:template>
                </table:Column>
                <table:Column hAlign="Center" width="15rem">
                    <Label text="备注"/>
                    <table:template>
                        <Text text="{log>REMARK}"/>
                    </table:template>
                </table:Column>
                <table:Column hAlign="Center" width="6rem">
                    <Label text="处理时长(s)"/>
                    <table:template>
                        <Text text="{=${log>PROCESSTIME}?parseFloat(${log>PROCESSTIME}).toFixed(3):''}"/>
                    </table:template>
                </table:Column>
                <table:Column hAlign="Center" width="20rem">
                    <Label text="开始调用接口时间"/>
                    <table:template>
                        <Text text="{log>STARTCALLINTERFACETIME}"/>
                    </table:template>
                </table:Column>
                <table:Column hAlign="Center" width="20rem">
                    <Label text="结束调用接口时间"/>
                    <table:template>
                        <Text text="{log>ENDCALLINTERFACETIME}"/>
                    </table:template>
                </table:Column>
                <table:Column hAlign="Center" width="20rem">
                    <Label text="开始操作时间"/>
                    <table:template>
                        <Text text="{log>STARTCOMMANDTIME}"/>
                    </table:template>
                </table:Column>
                <table:Column hAlign="Center" width="20rem">
                    <Label text="结束操作时间"/>
                    <table:template>
                        <Text text="{log>ENDCOMMANDTIME}"/>
                    </table:template>
                </table:Column>
            </table:columns>
        </table:Table>
    </Page>
</mvc:View>